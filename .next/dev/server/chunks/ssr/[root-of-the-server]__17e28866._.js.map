{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/db/index.ts"],"sourcesContent":["import { neon } from '@neondatabase/serverless'\r\nimport { drizzle } from 'drizzle-orm/neon-http'\r\n\r\nconst sql = neon(process.env.DATABASE_URL!)\r\nexport const db = drizzle(sql)"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,MAAM,IAAA,uOAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;AAClC,MAAM,KAAK,IAAA,4QAAO,EAAC","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/db/schema.ts"],"sourcesContent":["import {\r\n  integer,\r\n  pgEnum,\r\n  pgTable,\r\n  serial,\r\n  text,\r\n  timestamp,\r\n  varchar,\r\n  vector,\r\n} from 'drizzle-orm/pg-core'\r\n\r\nexport const userSystemEnum = pgEnum('user_system_enum', ['system', 'user'])\r\n\r\nexport const chats = pgTable('chats', {\r\n  id: serial('id').primaryKey(),\r\n  pdfName: text('pdf_name').notNull(),\r\n  pdfUrl: text('pdf_url').notNull(),\r\n  createdAt: timestamp('created_at').notNull().defaultNow(),\r\n  userId: varchar('user_id', { length: 256 }).notNull(),\r\n  fileKey: text('file_key').notNull(),\r\n})\r\n\r\nexport type DrizzleChat = typeof chats.$inferSelect\r\n\r\nexport const messages = pgTable('messages', {\r\n  id: serial('id').primaryKey(),\r\n  chatId: integer('chat_id')\r\n    .references(() => chats.id)\r\n    .notNull(),\r\n  content: text('content').notNull(),\r\n  createdAt: timestamp('created_at').notNull().defaultNow(),\r\n  role: userSystemEnum('role').notNull(),\r\n})\r\n\r\nexport const documents = pgTable('documents', {\r\n  id: serial('id').primaryKey(),\r\n  chatId: integer('chat_id').notNull()\r\n    .references(() => chats.id),\r\n  content: text('content').notNull(),\r\n  embedding: vector('embedding', { dimensions: 3072 }).notNull(),\r\n})"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWO,MAAM,iBAAiB,IAAA,kRAAM,EAAC,oBAAoB;IAAC;IAAU;CAAO;AAEpE,MAAM,QAAQ,IAAA,yQAAO,EAAC,SAAS;IACpC,IAAI,IAAA,oRAAM,EAAC,MAAM,UAAU;IAC3B,SAAS,IAAA,gRAAI,EAAC,YAAY,OAAO;IACjC,QAAQ,IAAA,gRAAI,EAAC,WAAW,OAAO;IAC/B,WAAW,IAAA,0RAAS,EAAC,cAAc,OAAO,GAAG,UAAU;IACvD,QAAQ,IAAA,sRAAO,EAAC,WAAW;QAAE,QAAQ;IAAI,GAAG,OAAO;IACnD,SAAS,IAAA,gRAAI,EAAC,YAAY,OAAO;AACnC;AAIO,MAAM,WAAW,IAAA,yQAAO,EAAC,YAAY;IAC1C,IAAI,IAAA,oRAAM,EAAC,MAAM,UAAU;IAC3B,QAAQ,IAAA,sRAAO,EAAC,WACb,UAAU,CAAC,IAAM,MAAM,EAAE,EACzB,OAAO;IACV,SAAS,IAAA,gRAAI,EAAC,WAAW,OAAO;IAChC,WAAW,IAAA,0RAAS,EAAC,cAAc,OAAO,GAAG,UAAU;IACvD,MAAM,eAAe,QAAQ,OAAO;AACtC;AAEO,MAAM,YAAY,IAAA,yQAAO,EAAC,aAAa;IAC5C,IAAI,IAAA,oRAAM,EAAC,MAAM,UAAU;IAC3B,QAAQ,IAAA,sRAAO,EAAC,WAAW,OAAO,GAC/B,UAAU,CAAC,IAAM,MAAM,EAAE;IAC5B,SAAS,IAAA,gRAAI,EAAC,WAAW,OAAO;IAChC,WAAW,IAAA,wSAAM,EAAC,aAAa;QAAE,YAAY;IAAK,GAAG,OAAO;AAC9D","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/chat-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/chat/[chatId]/chat-sidebar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/chat/[chatId]/chat-sidebar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/chat-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/chat/[chatId]/chat-sidebar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/chat/[chatId]/chat-sidebar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/PDFViewer.tsx"],"sourcesContent":["interface Props {\r\n  pdfUrl: string\r\n}\r\n\r\nconst PDFViewer = ({ pdfUrl }: Props) => {\r\n  return (\r\n    <iframe\r\n      src={`https://docs.google.com/gview?url=${pdfUrl}&embedded=true`}\r\n      className=\"w-full h-full\"\r\n    ></iframe>\r\n  )\r\n}\r\n\r\nexport default PDFViewer"],"names":[],"mappings":";;;;;;AAIA,MAAM,YAAY,CAAC,EAAE,MAAM,EAAS;IAClC,qBACE,6VAAC;QACC,KAAK,CAAC,kCAAkC,EAAE,OAAO,cAAc,CAAC;QAChE,WAAU;;;;;;AAGhB;uCAEe","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/chat-component.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/chat/[chatId]/chat-component.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/chat/[chatId]/chat-component.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/chat-component.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/chat/[chatId]/chat-component.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/chat/[chatId]/chat-component.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aryan/Desktop/New%20folder%20%283%29/PDF-GPT-1/app/chat/%5BchatId%5D/page.tsx"],"sourcesContent":["import { auth } from '@clerk/nextjs/server'\r\nimport { db } from '@/db'\r\nimport { chats } from '@/db/schema'\r\nimport { eq } from 'drizzle-orm'\r\nimport { redirect } from 'next/navigation'\r\nimport ChatSidebar from './chat-sidebar'\r\nimport PDFViewer from './PDFViewer'\r\nimport ChatComponent from './chat-component'\r\n\r\ninterface Props {\r\n  params: Promise<{\r\n    chatId: string\r\n  }>\r\n}\r\n\r\nconst ChatPage = async ({ params }: Props) => {\r\n  const { userId } = await auth()\r\n  if (!userId) {\r\n    return redirect('/auth/sign-in')\r\n  }\r\n\r\n  const { chatId } = await params\r\n  const _chats = await db.select().from(chats).where(eq(chats.userId, userId))\r\n\r\n  if (!_chats || _chats.length === 0) {\r\n    return redirect('/')\r\n  }\r\n\r\n  const currentChat = _chats.find((chat) => chat.id === parseInt(chatId))\r\n  if (!currentChat) {\r\n    return redirect('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex max-h-screen overflow-scroll\">\r\n      <div className=\"flex w-full max-h-screen overflow-scroll\">\r\n        {/* Chat Sidebar */}\r\n        <div className=\"flex-[1] max-w-xs\">\r\n          <ChatSidebar chats={_chats} chatId={parseInt(chatId)} />\r\n        </div>\r\n\r\n        {/* PDF Viewer */}\r\n        <div className=\"max-h-screen p-4 overflow-scroll flex-[5]\">\r\n          <PDFViewer pdfUrl={currentChat.pdfUrl} />\r\n        </div>\r\n\r\n        {/* Chat Component */}\r\n        <div className=\"flex-[3] border-l-4 border-l-slate-200\">\r\n          <ChatComponent chatId={parseInt(chatId)} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatPage\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;AAQA,MAAM,WAAW,OAAO,EAAE,MAAM,EAAS;IACvC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,qSAAI;IAC7B,IAAI,CAAC,QAAQ;QACX,OAAO,IAAA,gTAAQ,EAAC;IAClB;IAEA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;IACzB,MAAM,SAAS,MAAM,iHAAE,CAAC,MAAM,GAAG,IAAI,CAAC,qHAAK,EAAE,KAAK,CAAC,IAAA,iRAAE,EAAC,qHAAK,CAAC,MAAM,EAAE;IAEpE,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG;QAClC,OAAO,IAAA,gTAAQ,EAAC;IAClB;IAEA,MAAM,cAAc,OAAO,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,SAAS;IAC/D,IAAI,CAAC,aAAa;QAChB,OAAO,IAAA,gTAAQ,EAAC;IAClB;IAEA,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YAAI,WAAU;;8BAEb,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,wJAAW;wBAAC,OAAO;wBAAQ,QAAQ,SAAS;;;;;;;;;;;8BAI/C,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,kJAAS;wBAAC,QAAQ,YAAY,MAAM;;;;;;;;;;;8BAIvC,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,0JAAa;wBAAC,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;AAK1C;uCAEe","debugId":null}}]
}